{"version":3,"sources":["components/ReportForm.js","config/firebase.js","pages/Home.js","pages/Notfound.js","components/CIOMForm.js","pages/Report.js","config/routes.js","App.js","reportWebVitals.js","index.js"],"names":["ReportForm","report","id","lab","protocol","sendDate","labId","period","handleInputChange","event","target","value","type","checked","name","setState","handleSubmit","e","preventDefault","state","props","onSubmit","closeModal","date","this","Form","Group","controlId","Label","Control","placeholder","onChange","selected","InputDateChange","dateFormat","isClearable","showYearDropdown","scrollableMonthYearDropdown","className","Button","variant","Component","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","Home","getReports","reports","db","collection","get","then","querySnapshot","forEach","doc","push","data","console","log","rep","Date","seconds","InvertOpenModal","modalOpen","handleOnSubmit","reportAdd","parseInt","getId","set","onEdit","onDelete","reportDel","attachedCIOMS","attCiOMS","length","ciom","delete","reduce","p","v","addReportHandler","baseReport","firestore","map","onClick","to","Table","striped","bordered","hover","renderReports","style","content","top","left","right","bottom","marginRight","transform","isOpen","ariaHideApp","Notfound","CIOMForm","CIOM","cod","reportCountry","reportYear","ciomState","notiDate","newInput","correct","trim","touched","newInputDate","Alert","show","disabled","correctCOD","correctRepoCountry","correctRepoYear","correctEvent","correctCIOMState","correctNotiDate","allCorrectToSave","Report","CIOMS","CIOMAdd","setVariablesOriginalValues","getReportAndCIOMS","CIOMDel","addCIOMHandler","baseCIOM","match","params","exists","repor","getDate","docCiOMS","catch","error","Card","Header","Body","InputGroup","size","Prepend","Text","FormControl","aria-label","aria-describedby","renderCIOMS","withRouter","exact","path","App","routes","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.57c0525d.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport \"../styles/ReportForm.css\";\r\n\r\nexport default class ReportForm extends Component {\r\n    \r\n    constructor({report: {id, lab, protocol, sendDate, labId, period}}){\r\n      super();\r\n\r\n      this.state = {\r\n        id,\r\n        lab,\r\n        protocol,\r\n        sendDate,\r\n        labId,\r\n        period,\r\n        //selectedDate:null\r\n      }\r\n    }  \r\n\r\n    static getDerivedStateFromProps(props, state){\r\n      if(props.report.id !== state.id){\r\n        let {id, lab, protocol, sendDate, labId, period} = props.report;\r\n        return({\r\n          id, \r\n          lab, \r\n          protocol, \r\n          sendDate, \r\n          labId, \r\n          period\r\n        });\r\n      }\r\n      return null;\r\n    }\r\n\r\n    handleInputChange=(event) =>{\r\n      const target = event.target;\r\n      const value = target.type === 'checkbox' ? target.checked : target.value;\r\n      const name = target.name;\r\n\r\n      this.setState({\r\n        [name]: value\r\n      });\r\n    }\r\n\r\n    handleSubmit=(e)=>{\r\n        e.preventDefault();\r\n\r\n        let report = {\r\n          id: this.state.id,\r\n          lab: this.state.lab,\r\n          protocol: this.state.protocol,\r\n          sendDate: this.state.sendDate,\r\n          labId: this.state.labId,\r\n          period: this.state.period\r\n        }\r\n\r\n        this.props.onSubmit(report);\r\n        this.props.closeModal();\r\n\r\n        this.setState({\r\n          id: \"\",\r\n          lab: \"\",\r\n          protocol: \"\",\r\n          sendDate: null,\r\n          labId: \"\",\r\n          period: \"\"\r\n        })\r\n    }\r\n\r\n    InputDateChange(date){\r\n      //console.log(\"Date:\" + date);\r\n      this.setState({sendDate:date});\r\n    }\r\n  \r\n    render() {\r\n   \r\n    return (\r\n      <div>\r\n        <h3>Agregar Reporte de Laboratorio</h3>\r\n        <Form onSubmit={ this.handleSubmit }>\r\n          <Form.Group controlId=\"formBasicLabo\">\r\n            <Form.Label>Laboratorio</Form.Label>\r\n            <Form.Control type=\"text\" placeholder=\"Laboratorio\" value={this.state.lab} onChange={this.handleInputChange} name=\"lab\" />\r\n          </Form.Group>\r\n          <Form.Group controlId=\"formBasicProtocol\">\r\n            <Form.Label>Protocolo</Form.Label>\r\n            <Form.Control type=\"text\" placeholder=\"#\" value={this.state.protocol} onChange={this.handleInputChange} name=\"protocol\" />\r\n          </Form.Group>\r\n          <Form.Group controlId=\"formBasicSendDate\">\r\n            <Form.Label>Fecha de envío al comité</Form.Label>\r\n            <div></div>\r\n            <DatePicker selected={this.state.sendDate} onChange={date=>this.InputDateChange(date)} dateFormat=\"dd/MM/yyyy\" isClearable showYearDropdown scrollableMonthYearDropdown/>\r\n          </Form.Group>\r\n          <Form.Group controlId=\"formBasicLabId\">\r\n            <Form.Label>Identificador del estudio</Form.Label>\r\n            <Form.Control type=\"text\" placeholder=\"------\" value={this.state.labId} onChange={this.handleInputChange} name=\"labId\" />\r\n          </Form.Group>\r\n          <Form.Group controlId=\"formBasicPeriod\">\r\n            <Form.Label>Periodo del estudio</Form.Label>\r\n            <Form.Control type=\"text\" placeholder=\"dd/mm/aa => dd/mm/aa\" value={this.state.period} onChange={this.handleInputChange} name=\"period\" />\r\n          </Form.Group>\r\n          <div className=\"saveDiv\">\r\n            <Button variant=\"primary\" type=\"submit\">\r\n              Guardar\r\n            </Button>\r\n          </div>\r\n        </Form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import firebase from \"firebase/app\";\r\nimport 'firebase/firestore';\r\n\r\n// Your web app's Firebase configuration\r\nvar firebaseConfig = {\r\n    apiKey: \"AIzaSyCa2sbQ0HRxelXKBUPApHc_FMacDvl4F5o\",\r\n    authDomain: \"report-prototype.firebaseapp.com\",\r\n    projectId: \"report-prototype\",\r\n    storageBucket: \"report-prototype.appspot.com\",\r\n    messagingSenderId: \"1022968365167\",\r\n    appId: \"1:1022968365167:web:0de10bec101858f3cb4d9a\"\r\n  };\r\n  // Initialize Firebase\r\n  firebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase;","import React, { Component } from 'react';\r\nimport Modal from \"react-modal\";\r\nimport { Button, Table } from \"react-bootstrap\";\r\nimport ReportForm from \"../components/ReportForm\";\r\nimport firebase from \"../config/firebase\";\r\nimport {Link} from \"react-router-dom\";\r\nimport \"../styles/home.css\";\r\n\r\nexport default class Home extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            reports:[ ],\r\n            report:{ id:\"\", lab: \"\", protocol:\"\", sendDate:null, labId:\"\", period:\"\" },\r\n            modalOpen: false,\r\n            db: firebase.firestore(),\r\n            baseReport:{ id:\"\", lab: \"\", protocol:\"\", sendDate:null, labId:\"\", period:\"\" }\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.getReports();\r\n    }\r\n\r\n    getReports = () =>{\r\n        let reports = [];\r\n\r\n        this.state.db.collection(\"reporte\").get().then( querySnapshot =>{\r\n            querySnapshot.forEach( doc => {\r\n                reports.push(doc.data());\r\n                console.log(doc.data());\r\n            })\r\n            reports.forEach(rep => rep.sendDate=new Date(rep.sendDate.seconds*1000));\r\n            this.setState({reports});\r\n        } \r\n        )\r\n    }\r\n\r\n    InvertOpenModal=()=>{\r\n        let value = this.state.modalOpen;\r\n        this.setState({modalOpen: !value});\r\n    }\r\n\r\n    handleOnSubmit=(reportAdd)=>{\r\n        //console.log(reportAdd);\r\n        if(reportAdd.id === \"\"){\r\n            let id = parseInt(this.getId()) + 1;\r\n            reportAdd.id = id+\"\";\r\n            console.log(id);\r\n        }\r\n        this.state.db.collection(\"reporte\").doc(reportAdd.id).set(reportAdd);\r\n        this.getReports();\r\n    }\r\n\r\n    renderReports(){\r\n        let reportList = this.state.reports.map((report) =>(\r\n            <tr key={report.id}>\r\n                <td>{report.id}</td>\r\n                <td>{report.lab}</td>\r\n                <td>{report.labId}</td>\r\n                <td>\r\n                    <Button className=\"actionBtn\" variant=\"warning\" onClick={()=> this.onEdit(report)}>\r\n                        Editar\r\n                    </Button>\r\n                    <Button className=\"actionBtn\" variant=\"danger\" onClick={()=> this.onDelete(report)}>\r\n                        Eliminar\r\n                    </Button>\r\n                </td>\r\n                <td>\r\n                    <Link to={`/report/${report.id}`}>\r\n                        <Button variant=\"info\">\r\n                            CIOMS\r\n                        </Button>\r\n                    </Link>\r\n                </td>\r\n            </tr>\r\n        ));\r\n\r\n        return reportList;\r\n    }\r\n\r\n    onEdit=(report)=>{\r\n        //console.log(report);\r\n        //console.log(report.sendDate.seconds);\r\n        //let date = new Date(report.sendDate.seconds*1000);\r\n        //report.sendDate=date;\r\n        this.setState({report});\r\n        this.InvertOpenModal();\r\n        this.getReports();\r\n    }\r\n\r\n    onDelete=(reportDel)=>{\r\n\r\n        let attachedCIOMS = [];\r\n\r\n        this.state.db.collection(\"reporte\").doc(reportDel.id+\"\").collection(\"sintomas\").get().then( querySnapshot =>{\r\n            querySnapshot.forEach( attCiOMS => {\r\n                attachedCIOMS.push(attCiOMS.data());\r\n            })\r\n            if(attachedCIOMS.length!==0){\r\n                attachedCIOMS.forEach(ciom => \r\n                    this.state.db.collection(\"reporte\").doc(reportDel.id+\"\").collection(\"sintomas\").doc(\"\"+ciom.id).delete()\r\n                    );\r\n            }\r\n        } \r\n        )\r\n\r\n        this.state.db.collection(\"reporte\").doc(reportDel.id+\"\").delete();\r\n        this.getReports();\r\n    }\r\n\r\n    getId = () =>{\r\n        let reports = this.state.reports;\r\n        if(reports.length > 0){\r\n            return reports.reduce((p, v) => (p < v.id ? v.id : p), this.state.reports[0].id);\r\n        }\r\n        else\r\n            return 0;\r\n    };\r\n\r\n    addReportHandler=()=>{\r\n        this.setState({report:this.state.baseReport});\r\n        this.InvertOpenModal();\r\n    }\r\n\r\n    render() {\r\n\r\n        const customStyles = {\r\n            content : {\r\n              top                   : '50%',\r\n              left                  : '50%',\r\n              right                 : 'auto',\r\n              bottom                : 'auto',\r\n              marginRight           : '-50%',\r\n              transform             : 'translate(-50%, -50%)'\r\n            }\r\n        };\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <Table striped bordered hover>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>#</th>\r\n                            <th>Laboratorio</th>\r\n                            <th>Identificador estudio</th>\r\n                            <th>Report actions</th>\r\n                            <th>CIOMS</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>{this.renderReports()}</tbody>\r\n                </Table>\r\n                <Button onClick={this.addReportHandler} variant=\"primary\">Add Report</Button>\r\n                <Modal style={customStyles} isOpen={this.state.modalOpen} ariaHideApp={false}>\r\n                    <ReportForm report={this.state.report} closeModal={this.InvertOpenModal} onSubmit={this.handleOnSubmit} />\r\n                    <div className=\"closeDiv\">\r\n                        <Button className=\"closeBtn\" onClick={this.InvertOpenModal} variant=\"primary\">Cerrar</Button>\r\n                    </div>\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class Notfound extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h1>Seems like you are out of route</h1>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Form, Button, Alert } from \"react-bootstrap\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport \"../styles/CIOMForm.css\";\r\n\r\nexport default class CIOMForm extends Component {\r\n    constructor({CIOM:{ id, cod, reportCountry, reportYear, event, ciomState, notiDate }}){\r\n        super();\r\n        this.state={\r\n            id, \r\n            cod:{value:cod, correct:false, touched:false}, \r\n            reportCountry:{value:reportCountry, correct:false, touched:false}, \r\n            reportYear:{value:reportYear, correct:false, touched:false},\r\n            event:{value:event, correct:false, touched:false}, \r\n            ciomState:{value:ciomState, correct:false, touched:false}, \r\n            notiDate:{value:notiDate, correct:false, touched:false},\r\n\r\n            //-----------Input Validation---------\r\n        }\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state){\r\n        if(props.CIOM.id !== state.id){\r\n          let {id, cod, reportCountry, reportYear, event, ciomState, notiDate} = props.CIOM;\r\n          return({\r\n            id, \r\n            cod:{value:cod,correct:false,touched:false}, \r\n            reportCountry:{value:reportCountry,correct:false,touched:false}, \r\n            reportYear:{value:reportYear,correct:false,touched:false}, \r\n            event:{value:event,correct:false,touched:false}, \r\n            ciomState:{value:ciomState,correct:false,touched:false}, \r\n            notiDate:{value:notiDate,correct:false,touched:false}\r\n          });\r\n        }\r\n        return null;\r\n    }\r\n\r\n    handleInputChange=(event) =>{\r\n        const target = event.target;\r\n        const value = target.type === 'checkbox' ? target.checked : target.value;\r\n        const name = target.name;\r\n  \r\n        const newInput = {...this.state[name]};\r\n        newInput.correct = value.trim()!==\"\";\r\n        newInput.touched=true;\r\n        newInput.value = value;\r\n        this.setState({[name]:newInput});\r\n    }\r\n\r\n    handleSubmit=(e)=>{\r\n        e.preventDefault();\r\n\r\n        let CIOM = {\r\n          id: this.state.id,\r\n          cod: this.state.cod.value,\r\n          reportCountry: this.state.reportCountry.value,\r\n          reportYear: this.state.reportYear.value,\r\n          event: this.state.event.value,\r\n          ciomState: this.state.ciomState.value,\r\n          notiDate: this.state.notiDate.value\r\n        }\r\n\r\n        this.props.onSubmit(CIOM);\r\n        this.props.closeModal();\r\n\r\n    }\r\n    \r\n    InputDateChange(date){\r\n        let newInputDate = {...this.state.notiDate, value:date, correct:date!=null, touched:true};\r\n\r\n        this.setState({notiDate:newInputDate});\r\n       \r\n    }\r\n    \r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <h3>Agregar CIOM al Reporte</h3>\r\n                <Form onSubmit={ this.handleSubmit }>\r\n                <Form.Group controlId=\"formBasicCod\">\r\n                    <Form.Label>Código del paciente</Form.Label>\r\n                    <Form.Control type=\"text\" placeholder=\"código\" value={this.state.cod.value} onChange={this.handleInputChange} name=\"cod\" />\r\n                    <Alert show={!this.state.cod.correct && this.state.cod.touched} variant=\"danger\">Código no puede ser vacío</Alert>\r\n                </Form.Group>\r\n                <Form.Group controlId=\"formBasicRepoCountry\">\r\n                    <Form.Label>País del reporte</Form.Label>\r\n                    <Form.Control type=\"text\" placeholder=\"país\" value={this.state.reportCountry.value} onChange={this.handleInputChange} name=\"reportCountry\" />\r\n                    <Alert show={!this.state.reportCountry.correct && this.state.reportCountry.touched} variant=\"danger\">País no puede ser vacío</Alert>\r\n                </Form.Group>\r\n                <Form.Group controlId=\"formBasicReportYear\">\r\n                    <Form.Label>Año del reporte</Form.Label>\r\n                    <Form.Control type=\"text\" placeholder=\"año\" value={this.state.reportYear.value} onChange={this.handleInputChange} name=\"reportYear\" />\r\n                    <Alert show={!this.state.reportYear.correct && this.state.reportYear.touched} variant=\"danger\">Año del reporte no puede ser vacío</Alert>\r\n                </Form.Group>\r\n                <Form.Group controlId=\"formBasicEvent\">\r\n                    <Form.Label>Evento presentado</Form.Label>\r\n                    <Form.Control type=\"text\" placeholder=\"---\" value={this.state.event.value} onChange={this.handleInputChange} name=\"event\" />\r\n                    <Alert show={!this.state.event.correct && this.state.event.touched} variant=\"danger\">Evento no puede ser vacío</Alert>\r\n                </Form.Group>\r\n                <Form.Group controlId=\"formBasicCiomState\">\r\n                    <Form.Label>Estado del CIOM</Form.Label>\r\n                    <Form.Control type=\"text\" placeholder=\"estado\" value={this.state.ciomState.value} onChange={this.handleInputChange} name=\"ciomState\" />\r\n                    <Alert show={!this.state.ciomState.correct && this.state.ciomState.touched} variant=\"danger\">Estado no puede ser vacío</Alert>\r\n                </Form.Group>\r\n                <Form.Group controlId=\"formBasicNotiDate\">\r\n                    <Form.Label>Fecha de notificación</Form.Label>\r\n                    <div></div>\r\n                    <DatePicker selected={this.state.notiDate.value} onChange={date=>this.InputDateChange(date)} dateFormat=\"dd/MM/yyyy\" isClearable showYearDropdown scrollableMonthYearDropdown/>\r\n                    <Alert show={!this.state.notiDate.correct && this.state.notiDate.touched} variant=\"danger\">Fecha no puede ser vacía</Alert>\r\n                </Form.Group>\r\n                <div className=\"saveDiv\">\r\n                    <Button disabled={false} variant=\"primary\" type=\"submit\">\r\n                        Guardar\r\n                    </Button>\r\n                </div>\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    checkAllCorrect(){\r\n        if(this.state.correctCOD && this.state.correctRepoCountry && this.state.correctRepoYear && this.state.correctEvent && this.state.correctCIOMState && this.state.correctNotiDate){\r\n            this.setState({allCorrectToSave:true});\r\n        }\r\n        else{\r\n            this.setState({allCorrectToSave:false});\r\n        }\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport firebase from \"../config/firebase\";\r\nimport { Card, InputGroup, FormControl, Button, Table } from \"react-bootstrap\";\r\nimport CIOMForm from \"../components/CIOMForm\";\r\nimport Modal from \"react-modal\";\r\nimport {Link} from \"react-router-dom\";\r\nimport \"../styles/Report.css\";\r\n\r\n\r\nclass Report extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      report: {id:\"\", lab: \"\", protocol:\"\", sendDate:\"\", labId:\"\", period:\"\"},\r\n      CIOMS:[],\r\n      CIOM:{\r\n        id:\"\", \r\n        cod:\"\", \r\n        reportCountry:\"\", \r\n        reportYear:\"\", \r\n        event:\"\", \r\n        ciomState:\"\", \r\n        notiDate:null\r\n      },\r\n      db: firebase.firestore(),\r\n      modalOpen:false,\r\n      baseCIOM:{id:\"\", cod:\"\", reportCountry:\"\", reportYear:\"\", event:\"\", ciomState:\"\", notiDate:null}\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getReportAndCIOMS();\r\n  }\r\n\r\n  getReportAndCIOMS(){\r\n    const id = this.props.match.params.id;\r\n    var docRef = this.state.db.collection(\"reporte\").doc(\"\" + id);\r\n    docRef\r\n      .get()\r\n      .then((doc) => {\r\n        if (doc.exists) {\r\n          //console.log(doc.data());\r\n          let repor = doc.data();\r\n          repor.sendDate=new Date(repor.sendDate.seconds*1000);\r\n          console.log(\"date try: \"+repor.sendDate.getDate());\r\n          this.setState({report: repor});\r\n\r\n          //traer los cioms de esa persona\r\n          console.log(\"voy a buscar cioms\");\r\n\r\n            let CIOMS = [];\r\n\r\n            this.state.db.collection(\"reporte\").doc(id).collection(\"sintomas\").get().then( querySnapshot =>{\r\n              querySnapshot.forEach( docCiOMS => {\r\n                  console.log(docCiOMS.data());\r\n                  CIOMS.push(docCiOMS.data());\r\n              })\r\n              CIOMS.forEach(ciom => ciom.notiDate=new Date(ciom.notiDate.seconds*1000));\r\n              this.setState({CIOMS});\r\n          } \r\n          )\r\n\r\n        } else {\r\n          console.log(\"No such document!\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error\");\r\n      });\r\n  }\r\n\r\n  getId = () =>{\r\n    let CIOMS = this.state.CIOMS;\r\n    if(CIOMS.length > 0){\r\n        return CIOMS.reduce((p, v) => (p < v.id ? v.id : p), this.state.CIOMS[0].id);\r\n    }\r\n    else\r\n        return 0;\r\n};\r\n\r\n  InvertOpenModal=()=>{\r\n    let value = this.state.modalOpen;\r\n    this.setState({modalOpen: !value});\r\n  }\r\n\r\n  handleOnSubmit=(CIOMAdd)=>{\r\n    console.log(CIOMAdd);\r\n    if(CIOMAdd.id === \"\"){\r\n        let id = parseInt(this.getId()) + 1;\r\n        CIOMAdd.id = id+\"\";\r\n    }\r\n    this.state.db.collection(\"reporte\").doc(this.state.report.id).collection(\"sintomas\").doc(CIOMAdd.id).set(CIOMAdd);\r\n    this.setVariablesOriginalValues();\r\n    this.getReportAndCIOMS();\r\n  }\r\n\r\n  onEdit=(CIOM)=>{\r\n    this.setState({CIOM});\r\n    this.InvertOpenModal();\r\n    this.getReportAndCIOMS();\r\n  }\r\n\r\n  onDelete=(CIOMDel)=>{\r\n    this.state.db.collection(\"reporte\").doc(this.state.report.id).collection(\"sintomas\").doc(\"\"+CIOMDel.id).delete();\r\n    this.getReportAndCIOMS();\r\n  }\r\n\r\n  renderCIOMS(){\r\n      let CIOMList = this.state.CIOMS.map(( CIOM ) =>(\r\n        <tr key={CIOM.id}>\r\n            <td>{CIOM.id}</td>\r\n            <td>{CIOM.cod}</td>\r\n            <td>{CIOM.reportCountry}</td>\r\n            <td>{CIOM.reportYear}</td>\r\n            <td>{CIOM.event}</td>\r\n            <td>{CIOM.ciomState}</td>\r\n            <td>{CIOM.notiDate+\"\"}</td>\r\n            <td>\r\n                <Button className=\"actionBtn\" variant=\"warning\" onClick={()=> this.onEdit(CIOM)}>\r\n                    Editar\r\n                </Button>\r\n                <Button className=\"actionBtn\" variant=\"danger\" onClick={()=> this.onDelete(CIOM)}>\r\n                    Eliminar\r\n                </Button>\r\n            </td>\r\n        </tr>\r\n    ));\r\n\r\n    return CIOMList;\r\n  }\r\n\r\n  setVariablesOriginalValues(){\r\n    this.setState({\r\n      id:\"\", \r\n      cod:\"\", \r\n      reportCountry:\"\", \r\n      reportYear:\"\", \r\n      event:\"\", \r\n      ciomState:\"\", \r\n      notiDate:null\r\n    });\r\n  }\r\n\r\n  addCIOMHandler=()=>{\r\n    this.setState({CIOM:this.state.baseCIOM});\r\n    this.InvertOpenModal();\r\n  }\r\n\r\n  render() {\r\n\r\n    const customStyles = {\r\n      content : {\r\n        top                   : '50%',\r\n        left                  : '50%',\r\n        right                 : 'auto',\r\n        bottom                : 'auto',\r\n        marginRight           : '-50%',\r\n        transform             : 'translate(-50%, -50%)'\r\n      }\r\n    };\r\n\r\n    return (\r\n      <div className=\"RepContainer\">\r\n        <Link to={`/`}><p>Back to home</p></Link>\r\n        <Card>\r\n          <Card.Header>Laboratorio <span className=\"titleSpan\">{this.state.report.lab}</span></Card.Header>\r\n          <Card.Body>\r\n            <InputGroup size=\"sm\" className=\"mb-3\">\r\n                <InputGroup.Prepend>\r\n                <InputGroup.Text id=\"inputGroup-sizing-sm\">Identificador Estudio</InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <FormControl aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\" value={this.state.report.labId} disabled={true} />\r\n            </InputGroup>\r\n            <InputGroup size=\"sm\" className=\"mb-3\">\r\n                <InputGroup.Prepend>\r\n                <InputGroup.Text id=\"inputGroup-sizing-sm\">Protocolo</InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <FormControl aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\" value={this.state.report.protocol} disabled={true} />\r\n            </InputGroup>\r\n            <InputGroup size=\"sm\" className=\"mb-3\">\r\n                <InputGroup.Prepend>\r\n                <InputGroup.Text id=\"inputGroup-sizing-sm\">Fecha de envío al comité</InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <FormControl aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\" value={this.state.report.sendDate} disabled={true} />\r\n            </InputGroup>\r\n            <InputGroup size=\"sm\" className=\"mb-3\">\r\n                <InputGroup.Prepend>\r\n                <InputGroup.Text id=\"inputGroup-sizing-sm\">Periodo</InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <FormControl aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\" value={this.state.report.period} disabled={true} />\r\n            </InputGroup>\r\n          </Card.Body>\r\n          <Card.Header>Reportes de CIOMS</Card.Header>\r\n          <Card.Body>\r\n            <div className=\"container\">\r\n                  <Table striped bordered hover>\r\n                      <thead>\r\n                          <tr>\r\n                              <th>#</th>\r\n                              <th>Código paciente</th>\r\n                              <th>País reporte</th>\r\n                              <th>Año reporte</th>\r\n                              <th>Evento</th>\r\n                              <th>Estado</th>\r\n                              <th>Fecha notificación</th>\r\n                              <th>CIOMS actions</th>\r\n                          </tr>\r\n                      </thead>\r\n                      <tbody>{this.renderCIOMS()}</tbody>\r\n                  </Table>\r\n                  <Button onClick={this.addCIOMHandler} variant=\"primary\">Add CIOM</Button>\r\n                  <Modal style={customStyles} isOpen={this.state.modalOpen} ariaHideApp={false}>\r\n                      <CIOMForm CIOM={this.state.CIOM} closeModal={this.InvertOpenModal} onSubmit={this.handleOnSubmit} />\r\n                      <div className=\"closeDiv\">\r\n                        <Button className=\"closeBtn\" onClick={this.InvertOpenModal} variant=\"primary\">Cerrar</Button>\r\n                      </div>\r\n                  </Modal>\r\n              </div>\r\n            </Card.Body>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Report);\r\n","import {Route, Switch} from \"react-router-dom\";\r\nimport Home from \"../pages/Home\";\r\nimport Notfound from \"../pages/Notfound\";\r\nimport Report from \"../pages/Report\";\r\n\r\nexport default (\r\n    <Switch>\r\n        <Route exact path=\"/AnomalyFormPrototype/\">\r\n            <Home />\r\n        </Route>\r\n        <Route exact path=\"/AnomalyFormPrototype/report/:id\">\r\n            <Report />\r\n        </Route>\r\n        <Route path=\"*\">\r\n            <Notfound />\r\n        </Route>\r\n    </Switch>\r\n)\r\n","import './App.css';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport routes from \"./config/routes\";\n\nfunction App() {\n  return (\n    <Router>\n      <div className=\"App\">\n        {routes}\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  \n    <App />\n  ,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}
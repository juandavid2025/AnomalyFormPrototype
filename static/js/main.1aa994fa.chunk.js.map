{"version":3,"sources":["components/ReportForm.js","config/firebase.js","pages/Home.js","pages/Notfound.js","components/CIOMForm.js","pages/Report.js","config/routes.js","App.js","reportWebVitals.js","index.js"],"names":["ReportForm","report","id","lab","protocol","sendDate","labId","period","handleInputChange","event","target","value","type","checked","name","newInput","state","correct","trim","touched","setState","handleSubmit","e","preventDefault","props","onSubmit","closeModal","date","newInputDate","this","Form","Group","controlId","Label","Control","placeholder","onChange","Alert","show","variant","selected","InputDateChange","dateFormat","isClearable","showYearDropdown","scrollableMonthYearDropdown","className","Button","console","log","Component","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","Home","getReports","reports","db","collection","get","then","querySnapshot","forEach","doc","push","data","rep","Date","seconds","InvertOpenModal","modalOpen","handleOnSubmit","reportAdd","parseInt","getId","set","onEdit","onDelete","reportDel","attachedCIOMS","attCiOMS","length","ciom","delete","reduce","p","v","addReportHandler","baseReport","firestore","map","onClick","to","Table","striped","bordered","hover","renderReports","style","content","top","left","right","bottom","marginRight","transform","isOpen","ariaHideApp","CIOMForm","CIOM","cod","reportCountry","reportYear","ciomState","notiDate","disabled","correctCOD","correctRepoCountry","correctRepoYear","correctEvent","correctCIOMState","correctNotiDate","allCorrectToSave","Report","CIOMS","CIOMAdd","setVariablesOriginalValues","getReportAndCIOMS","CIOMDel","addCIOMHandler","baseCIOM","match","params","exists","repor","getDate","docCiOMS","catch","error","Card","Header","Body","InputGroup","size","Prepend","Text","FormControl","aria-label","aria-describedby","renderCIOMS","withRouter","exact","path","App","routes","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1aa994fa.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Form, Button, Alert } from \"react-bootstrap\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport \"../styles/ReportForm.css\";\r\n\r\nexport default class ReportForm extends Component {\r\n    \r\n    constructor({report: {id, lab, protocol, sendDate, labId, period}}){\r\n      super();\r\n\r\n      this.state = {\r\n        id,\r\n        lab:{value:lab, correct:false, touched:false},\r\n        protocol:{value:protocol, correct:false, touched:false},\r\n        sendDate:{value:sendDate, correct:false, touched:false},\r\n        labId:{value:labId, correct:false, touched:false},\r\n        period:{value:period, correct:false, touched:false},\r\n      }\r\n    }  \r\n\r\n    static getDerivedStateFromProps(props, state){\r\n      if(props.report.id !== state.id){\r\n        let {id, lab, protocol, sendDate, labId, period} = props.report;\r\n        console.log(\"Date form: \"+sendDate);\r\n        return({\r\n          id, \r\n          lab:{value:lab,correct:false,touched:false}, \r\n          protocol:{value:protocol,correct:false,touched:false}, \r\n          sendDate:{value:sendDate,correct:false,touched:false}, \r\n          labId:{value:labId,correct:false,touched:false}, \r\n          period:{value:period,correct:false,touched:false}\r\n        });\r\n      }\r\n      return null;\r\n    }\r\n\r\n    handleInputChange=(event) =>{\r\n      const target = event.target;\r\n      const value = target.type === 'checkbox' ? target.checked : target.value;\r\n      const name = target.name;\r\n\r\n      const newInput = {...this.state[name]};\r\n      newInput.correct = value.trim()!==\"\";\r\n      newInput.touched = true;\r\n      newInput.value = value;\r\n      this.setState({[name]:newInput});\r\n    }\r\n\r\n    handleSubmit=(e)=>{\r\n        e.preventDefault();\r\n\r\n        let report = {\r\n          id: this.state.id,\r\n          lab: this.state.lab.value,\r\n          protocol: this.state.protocol.value,\r\n          sendDate: this.state.sendDate.value,\r\n          labId: this.state.labId.value,\r\n          period: this.state.period.value\r\n        }\r\n\r\n        this.props.onSubmit(report);\r\n        this.props.closeModal();\r\n    }\r\n\r\n    InputDateChange(date){\r\n      let newInputDate = {...this.state.sendDate, value:date, correct:date!=null, touched:true};\r\n\r\n        this.setState({sendDate:newInputDate});\r\n    }\r\n  \r\n    render() {\r\n   \r\n    return (\r\n      <div>\r\n        <h3>Agregar Reporte de Laboratorio</h3>\r\n        <Form onSubmit={ this.handleSubmit }>\r\n          <Form.Group controlId=\"formBasicLabo\">\r\n            <Form.Label>Laboratorio</Form.Label>\r\n            <Form.Control type=\"text\" placeholder=\"Laboratorio\" value={this.state.lab.value} onChange={this.handleInputChange} name=\"lab\" />\r\n            <Alert show={!this.state.lab.correct && this.state.lab.touched} variant=\"danger\">Laboratorio no puede ser vacío</Alert>\r\n          </Form.Group>\r\n          <Form.Group controlId=\"formBasicProtocol\">\r\n            <Form.Label>Protocolo</Form.Label>\r\n            <Form.Control type=\"text\" placeholder=\"#\" value={this.state.protocol.value} onChange={this.handleInputChange} name=\"protocol\" />\r\n            <Alert show={!this.state.protocol.correct && this.state.protocol.touched} variant=\"danger\">Protocolo no puede ser vacío</Alert>\r\n          </Form.Group>\r\n          <Form.Group controlId=\"formBasicSendDate\">\r\n            <Form.Label>Fecha de envío al comité</Form.Label>\r\n            <div></div>\r\n            <DatePicker selected={this.state.sendDate.value} onChange={date=>this.InputDateChange(date)} dateFormat=\"dd/MM/yyyy\" isClearable showYearDropdown scrollableMonthYearDropdown/>\r\n            <Alert show={!this.state.sendDate.correct && this.state.sendDate.touched} variant=\"danger\">Fecha no puede ser vacía</Alert>\r\n          </Form.Group>\r\n          <Form.Group controlId=\"formBasicLabId\">\r\n            <Form.Label>Identificador del estudio</Form.Label>\r\n            <Form.Control type=\"text\" placeholder=\"------\" value={this.state.labId.value} onChange={this.handleInputChange} name=\"labId\" />\r\n            <Alert show={!this.state.labId.correct && this.state.labId.touched} variant=\"danger\">Identificador del estudio no puede ser vacío</Alert>\r\n          </Form.Group>\r\n          <Form.Group controlId=\"formBasicPeriod\">\r\n            <Form.Label>Periodo del estudio</Form.Label>\r\n            <Form.Control type=\"text\" placeholder=\"dd/mm/aa => dd/mm/aa\" value={this.state.period.value} onChange={this.handleInputChange} name=\"period\" />\r\n            <Alert show={!this.state.period.correct && this.state.period.touched} variant=\"danger\">Periodo no puede ser vacío</Alert>\r\n          </Form.Group>\r\n          <div className=\"saveDiv\">\r\n            <Button variant=\"primary\" type=\"submit\">\r\n              Guardar\r\n            </Button>\r\n          </div>\r\n        </Form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import firebase from \"firebase/app\";\r\nimport 'firebase/firestore';\r\n\r\n// Your web app's Firebase configuration\r\nvar firebaseConfig = {\r\n    apiKey: \"AIzaSyCa2sbQ0HRxelXKBUPApHc_FMacDvl4F5o\",\r\n    authDomain: \"report-prototype.firebaseapp.com\",\r\n    projectId: \"report-prototype\",\r\n    storageBucket: \"report-prototype.appspot.com\",\r\n    messagingSenderId: \"1022968365167\",\r\n    appId: \"1:1022968365167:web:0de10bec101858f3cb4d9a\"\r\n  };\r\n  // Initialize Firebase\r\n  firebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase;","import React, { Component } from 'react';\r\nimport Modal from \"react-modal\";\r\nimport { Button, Table } from \"react-bootstrap\";\r\nimport ReportForm from \"../components/ReportForm\";\r\nimport firebase from \"../config/firebase\";\r\nimport {Link} from \"react-router-dom\";\r\nimport \"../styles/home.css\";\r\n\r\nexport default class Home extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            reports:[ ],\r\n            report:{ id:\"\", lab: \"\", protocol:\"\", sendDate:null, labId:\"\", period:\"\" },\r\n            modalOpen: false,\r\n            db: firebase.firestore(),\r\n            baseReport:{ id:\"\", lab: \"\", protocol:\"\", sendDate:null, labId:\"\", period:\"\" }\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.getReports();\r\n    }\r\n\r\n    getReports = () =>{\r\n        let reports = [];\r\n\r\n        this.state.db.collection(\"reporte\").get().then( querySnapshot =>{\r\n            querySnapshot.forEach( doc => {\r\n                reports.push(doc.data());\r\n                //console.log(doc.data());\r\n            })\r\n            reports.forEach(rep => rep.sendDate=new Date(rep.sendDate.seconds*1000));\r\n            this.setState({reports});\r\n        } \r\n        )\r\n    }\r\n\r\n    InvertOpenModal=()=>{\r\n        let value = this.state.modalOpen;\r\n        this.setState({modalOpen: !value});\r\n    }\r\n\r\n    handleOnSubmit=(reportAdd)=>{\r\n        //console.log(reportAdd);\r\n        if(reportAdd.id === \"\"){\r\n            let id = parseInt(this.getId()) + 1;\r\n            reportAdd.id = id+\"\";\r\n            //console.log(id);\r\n        }\r\n        this.state.db.collection(\"reporte\").doc(reportAdd.id).set(reportAdd);\r\n        this.getReports();\r\n    }\r\n\r\n    renderReports(){\r\n        let reportList = this.state.reports.map((report) =>(\r\n            <tr key={report.id}>\r\n                <td>{report.id}</td>\r\n                <td>{report.lab}</td>\r\n                <td>{report.labId}</td>\r\n                <td>\r\n                    <Button className=\"actionBtn\" variant=\"warning\" onClick={()=> this.onEdit(report)}>\r\n                        Editar\r\n                    </Button>\r\n                    <Button className=\"actionBtn\" variant=\"danger\" onClick={()=> this.onDelete(report)}>\r\n                        Eliminar\r\n                    </Button>\r\n                </td>\r\n                <td>\r\n                    <Link to={`/report/${report.id}`}>\r\n                        <Button variant=\"info\">\r\n                            CIOMS\r\n                        </Button>\r\n                    </Link>\r\n                </td>\r\n            </tr>\r\n        ));\r\n\r\n        return reportList;\r\n    }\r\n\r\n    onEdit=(report)=>{\r\n        //console.log(report);\r\n        //console.log(report.sendDate.seconds);\r\n        //let date = new Date(report.sendDate.seconds*1000);\r\n        //report.sendDate=date;\r\n        this.setState({report});\r\n        this.InvertOpenModal();\r\n        this.getReports();\r\n    }\r\n\r\n    onDelete=(reportDel)=>{\r\n\r\n        let attachedCIOMS = [];\r\n\r\n        this.state.db.collection(\"reporte\").doc(reportDel.id+\"\").collection(\"sintomas\").get().then( querySnapshot =>{\r\n            querySnapshot.forEach( attCiOMS => {\r\n                attachedCIOMS.push(attCiOMS.data());\r\n            })\r\n            if(attachedCIOMS.length!==0){\r\n                attachedCIOMS.forEach(ciom => \r\n                    this.state.db.collection(\"reporte\").doc(reportDel.id+\"\").collection(\"sintomas\").doc(\"\"+ciom.id).delete()\r\n                    );\r\n            }\r\n        } \r\n        )\r\n\r\n        this.state.db.collection(\"reporte\").doc(reportDel.id+\"\").delete();\r\n        this.getReports();\r\n    }\r\n\r\n    getId = () =>{\r\n        let reports = this.state.reports;\r\n        if(reports.length > 0){\r\n            return reports.reduce((p, v) => (p < v.id ? v.id : p), this.state.reports[0].id);\r\n        }\r\n        else\r\n            return 0;\r\n    };\r\n\r\n    addReportHandler=()=>{\r\n        this.setState({report:this.state.baseReport});\r\n        this.InvertOpenModal();\r\n    }\r\n\r\n    render() {\r\n\r\n        const customStyles = {\r\n            content : {\r\n              top                   : '50%',\r\n              left                  : '50%',\r\n              right                 : 'auto',\r\n              bottom                : 'auto',\r\n              marginRight           : '-50%',\r\n              transform             : 'translate(-50%, -50%)'\r\n            }\r\n        };\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <Table striped bordered hover>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>#</th>\r\n                            <th>Laboratorio</th>\r\n                            <th>Identificador estudio</th>\r\n                            <th>Report actions</th>\r\n                            <th>CIOMS</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>{this.renderReports()}</tbody>\r\n                </Table>\r\n                <Button onClick={this.addReportHandler} variant=\"primary\">Add Report</Button>\r\n                <Modal style={customStyles} isOpen={this.state.modalOpen} ariaHideApp={false}>\r\n                    <ReportForm report={this.state.report} closeModal={this.InvertOpenModal} onSubmit={this.handleOnSubmit} />\r\n                    <div className=\"closeDiv\">\r\n                        <Button className=\"closeBtn\" onClick={this.InvertOpenModal} variant=\"primary\">Cerrar</Button>\r\n                    </div>\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class Notfound extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h1>Seems like you are out of route</h1>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Form, Button, Alert } from \"react-bootstrap\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport \"../styles/CIOMForm.css\";\r\n\r\nexport default class CIOMForm extends Component {\r\n    constructor({CIOM:{ id, cod, reportCountry, reportYear, event, ciomState, notiDate }}){\r\n        super();\r\n        this.state={\r\n            id, \r\n            cod:{value:cod, correct:false, touched:false}, \r\n            reportCountry:{value:reportCountry, correct:false, touched:false}, \r\n            reportYear:{value:reportYear, correct:false, touched:false},\r\n            event:{value:event, correct:false, touched:false}, \r\n            ciomState:{value:ciomState, correct:false, touched:false}, \r\n            notiDate:{value:notiDate, correct:false, touched:false},\r\n\r\n            //-----------Input Validation---------\r\n        }\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state){\r\n        if(props.CIOM.id !== state.id){\r\n          let {id, cod, reportCountry, reportYear, event, ciomState, notiDate} = props.CIOM;\r\n          return({\r\n            id, \r\n            cod:{value:cod,correct:false,touched:false}, \r\n            reportCountry:{value:reportCountry,correct:false,touched:false}, \r\n            reportYear:{value:reportYear,correct:false,touched:false}, \r\n            event:{value:event,correct:false,touched:false}, \r\n            ciomState:{value:ciomState,correct:false,touched:false}, \r\n            notiDate:{value:notiDate,correct:false,touched:false}\r\n          });\r\n        }\r\n        return null;\r\n    }\r\n\r\n    handleInputChange=(event) =>{\r\n        const target = event.target;\r\n        const value = target.type === 'checkbox' ? target.checked : target.value;\r\n        const name = target.name;\r\n  \r\n        const newInput = {...this.state[name]};\r\n        newInput.correct = value.trim()!==\"\";\r\n        newInput.touched=true;\r\n        newInput.value = value;\r\n        this.setState({[name]:newInput});\r\n    }\r\n\r\n    handleSubmit=(e)=>{\r\n        e.preventDefault();\r\n\r\n        let CIOM = {\r\n          id: this.state.id,\r\n          cod: this.state.cod.value,\r\n          reportCountry: this.state.reportCountry.value,\r\n          reportYear: this.state.reportYear.value,\r\n          event: this.state.event.value,\r\n          ciomState: this.state.ciomState.value,\r\n          notiDate: this.state.notiDate.value\r\n        }\r\n\r\n        this.props.onSubmit(CIOM);\r\n        this.props.closeModal();\r\n\r\n    }\r\n    \r\n    InputDateChange(date){\r\n        let newInputDate = {...this.state.notiDate, value:date, correct:date!=null, touched:true};\r\n\r\n        this.setState({notiDate:newInputDate});\r\n       \r\n    }\r\n    \r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <h3>Agregar CIOM al Reporte</h3>\r\n                <Form onSubmit={ this.handleSubmit }>\r\n                <Form.Group controlId=\"formBasicCod\">\r\n                    <Form.Label>Código del paciente</Form.Label>\r\n                    <Form.Control type=\"text\" placeholder=\"código\" value={this.state.cod.value} onChange={this.handleInputChange} name=\"cod\" />\r\n                    <Alert show={!this.state.cod.correct && this.state.cod.touched} variant=\"danger\">Código no puede ser vacío</Alert>\r\n                </Form.Group>\r\n                <Form.Group controlId=\"formBasicRepoCountry\">\r\n                    <Form.Label>País del reporte</Form.Label>\r\n                    <Form.Control type=\"text\" placeholder=\"país\" value={this.state.reportCountry.value} onChange={this.handleInputChange} name=\"reportCountry\" />\r\n                    <Alert show={!this.state.reportCountry.correct && this.state.reportCountry.touched} variant=\"danger\">País no puede ser vacío</Alert>\r\n                </Form.Group>\r\n                <Form.Group controlId=\"formBasicReportYear\">\r\n                    <Form.Label>Año del reporte</Form.Label>\r\n                    <Form.Control type=\"text\" placeholder=\"año\" value={this.state.reportYear.value} onChange={this.handleInputChange} name=\"reportYear\" />\r\n                    <Alert show={!this.state.reportYear.correct && this.state.reportYear.touched} variant=\"danger\">Año del reporte no puede ser vacío</Alert>\r\n                </Form.Group>\r\n                <Form.Group controlId=\"formBasicEvent\">\r\n                    <Form.Label>Evento presentado</Form.Label>\r\n                    <Form.Control type=\"text\" placeholder=\"---\" value={this.state.event.value} onChange={this.handleInputChange} name=\"event\" />\r\n                    <Alert show={!this.state.event.correct && this.state.event.touched} variant=\"danger\">Evento no puede ser vacío</Alert>\r\n                </Form.Group>\r\n                <Form.Group controlId=\"formBasicCiomState\">\r\n                    <Form.Label>Estado del CIOM</Form.Label>\r\n                    <Form.Control type=\"text\" placeholder=\"estado\" value={this.state.ciomState.value} onChange={this.handleInputChange} name=\"ciomState\" />\r\n                    <Alert show={!this.state.ciomState.correct && this.state.ciomState.touched} variant=\"danger\">Estado no puede ser vacío</Alert>\r\n                </Form.Group>\r\n                <Form.Group controlId=\"formBasicNotiDate\">\r\n                    <Form.Label>Fecha de notificación</Form.Label>\r\n                    <div></div>\r\n                    <DatePicker selected={this.state.notiDate.value} onChange={date=>this.InputDateChange(date)} dateFormat=\"dd/MM/yyyy\" isClearable showYearDropdown scrollableMonthYearDropdown/>\r\n                    <Alert show={!this.state.notiDate.correct && this.state.notiDate.touched} variant=\"danger\">Fecha no puede ser vacía</Alert>\r\n                </Form.Group>\r\n                <div className=\"saveDiv\">\r\n                    <Button disabled={false} variant=\"primary\" type=\"submit\">\r\n                        Guardar\r\n                    </Button>\r\n                </div>\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    checkAllCorrect(){\r\n        if(this.state.correctCOD && this.state.correctRepoCountry && this.state.correctRepoYear && this.state.correctEvent && this.state.correctCIOMState && this.state.correctNotiDate){\r\n            this.setState({allCorrectToSave:true});\r\n        }\r\n        else{\r\n            this.setState({allCorrectToSave:false});\r\n        }\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport firebase from \"../config/firebase\";\r\nimport { Card, InputGroup, FormControl, Button, Table } from \"react-bootstrap\";\r\nimport CIOMForm from \"../components/CIOMForm\";\r\nimport Modal from \"react-modal\";\r\nimport {Link} from \"react-router-dom\";\r\nimport \"../styles/Report.css\";\r\n\r\n\r\nclass Report extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      report: {id:\"\", lab: \"\", protocol:\"\", sendDate:\"\", labId:\"\", period:\"\"},\r\n      CIOMS:[],\r\n      CIOM:{\r\n        id:\"\", \r\n        cod:\"\", \r\n        reportCountry:\"\", \r\n        reportYear:\"\", \r\n        event:\"\", \r\n        ciomState:\"\", \r\n        notiDate:null\r\n      },\r\n      db: firebase.firestore(),\r\n      modalOpen:false,\r\n      baseCIOM:{id:\"\", cod:\"\", reportCountry:\"\", reportYear:\"\", event:\"\", ciomState:\"\", notiDate:null}\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getReportAndCIOMS();\r\n  }\r\n\r\n  getReportAndCIOMS(){\r\n    const id = this.props.match.params.id;\r\n    var docRef = this.state.db.collection(\"reporte\").doc(\"\" + id);\r\n    docRef\r\n      .get()\r\n      .then((doc) => {\r\n        if (doc.exists) {\r\n          //console.log(doc.data());\r\n          let repor = doc.data();\r\n          repor.sendDate=new Date(repor.sendDate.seconds*1000);\r\n          console.log(\"date try: \"+repor.sendDate.getDate());\r\n          this.setState({report: repor});\r\n\r\n          //traer los cioms de esa persona\r\n          console.log(\"voy a buscar cioms\");\r\n\r\n            let CIOMS = [];\r\n\r\n            this.state.db.collection(\"reporte\").doc(id).collection(\"sintomas\").get().then( querySnapshot =>{\r\n              querySnapshot.forEach( docCiOMS => {\r\n                  console.log(docCiOMS.data());\r\n                  CIOMS.push(docCiOMS.data());\r\n              })\r\n              CIOMS.forEach(ciom => ciom.notiDate=new Date(ciom.notiDate.seconds*1000));\r\n              this.setState({CIOMS});\r\n          } \r\n          )\r\n\r\n        } else {\r\n          console.log(\"No such document!\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error\");\r\n      });\r\n  }\r\n\r\n  getId = () =>{\r\n    let CIOMS = this.state.CIOMS;\r\n    if(CIOMS.length > 0){\r\n        return CIOMS.reduce((p, v) => (p < v.id ? v.id : p), this.state.CIOMS[0].id);\r\n    }\r\n    else\r\n        return 0;\r\n};\r\n\r\n  InvertOpenModal=()=>{\r\n    let value = this.state.modalOpen;\r\n    this.setState({modalOpen: !value});\r\n  }\r\n\r\n  handleOnSubmit=(CIOMAdd)=>{\r\n    console.log(CIOMAdd);\r\n    if(CIOMAdd.id === \"\"){\r\n        let id = parseInt(this.getId()) + 1;\r\n        CIOMAdd.id = id+\"\";\r\n    }\r\n    this.state.db.collection(\"reporte\").doc(this.state.report.id).collection(\"sintomas\").doc(CIOMAdd.id).set(CIOMAdd);\r\n    this.setVariablesOriginalValues();\r\n    this.getReportAndCIOMS();\r\n  }\r\n\r\n  onEdit=(CIOM)=>{\r\n    this.setState({CIOM});\r\n    this.InvertOpenModal();\r\n    this.getReportAndCIOMS();\r\n  }\r\n\r\n  onDelete=(CIOMDel)=>{\r\n    this.state.db.collection(\"reporte\").doc(this.state.report.id).collection(\"sintomas\").doc(\"\"+CIOMDel.id).delete();\r\n    this.getReportAndCIOMS();\r\n  }\r\n\r\n  renderCIOMS(){\r\n      let CIOMList = this.state.CIOMS.map(( CIOM ) =>(\r\n        <tr key={CIOM.id}>\r\n            <td>{CIOM.id}</td>\r\n            <td>{CIOM.cod}</td>\r\n            <td>{CIOM.reportCountry}</td>\r\n            <td>{CIOM.reportYear}</td>\r\n            <td>{CIOM.event}</td>\r\n            <td>{CIOM.ciomState}</td>\r\n            <td>{CIOM.notiDate+\"\"}</td>\r\n            <td>\r\n                <Button className=\"actionBtn\" variant=\"warning\" onClick={()=> this.onEdit(CIOM)}>\r\n                    Editar\r\n                </Button>\r\n                <Button className=\"actionBtn\" variant=\"danger\" onClick={()=> this.onDelete(CIOM)}>\r\n                    Eliminar\r\n                </Button>\r\n            </td>\r\n        </tr>\r\n    ));\r\n\r\n    return CIOMList;\r\n  }\r\n\r\n  setVariablesOriginalValues(){\r\n    this.setState({\r\n      id:\"\", \r\n      cod:\"\", \r\n      reportCountry:\"\", \r\n      reportYear:\"\", \r\n      event:\"\", \r\n      ciomState:\"\", \r\n      notiDate:null\r\n    });\r\n  }\r\n\r\n  addCIOMHandler=()=>{\r\n    this.setState({CIOM:this.state.baseCIOM});\r\n    this.InvertOpenModal();\r\n  }\r\n\r\n  render() {\r\n\r\n    const customStyles = {\r\n      content : {\r\n        top                   : '50%',\r\n        left                  : '50%',\r\n        right                 : 'auto',\r\n        bottom                : 'auto',\r\n        marginRight           : '-50%',\r\n        transform             : 'translate(-50%, -50%)'\r\n      }\r\n    };\r\n\r\n    return (\r\n      <div className=\"RepContainer\">\r\n        <Link to={`/`}><p>Back to home</p></Link>\r\n        <Card>\r\n          <Card.Header>Laboratorio <span className=\"titleSpan\">{this.state.report.lab}</span></Card.Header>\r\n          <Card.Body>\r\n            <InputGroup size=\"sm\" className=\"mb-3\">\r\n                <InputGroup.Prepend>\r\n                <InputGroup.Text id=\"inputGroup-sizing-sm\">Identificador Estudio</InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <FormControl aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\" value={this.state.report.labId} disabled={true} />\r\n            </InputGroup>\r\n            <InputGroup size=\"sm\" className=\"mb-3\">\r\n                <InputGroup.Prepend>\r\n                <InputGroup.Text id=\"inputGroup-sizing-sm\">Protocolo</InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <FormControl aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\" value={this.state.report.protocol} disabled={true} />\r\n            </InputGroup>\r\n            <InputGroup size=\"sm\" className=\"mb-3\">\r\n                <InputGroup.Prepend>\r\n                <InputGroup.Text id=\"inputGroup-sizing-sm\">Fecha de envío al comité</InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <FormControl aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\" value={this.state.report.sendDate} disabled={true} />\r\n            </InputGroup>\r\n            <InputGroup size=\"sm\" className=\"mb-3\">\r\n                <InputGroup.Prepend>\r\n                <InputGroup.Text id=\"inputGroup-sizing-sm\">Periodo</InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <FormControl aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\" value={this.state.report.period} disabled={true} />\r\n            </InputGroup>\r\n          </Card.Body>\r\n          <Card.Header>Reportes de CIOMS</Card.Header>\r\n          <Card.Body>\r\n            <div className=\"container\">\r\n                  <Table striped bordered hover>\r\n                      <thead>\r\n                          <tr>\r\n                              <th>#</th>\r\n                              <th>Código paciente</th>\r\n                              <th>País reporte</th>\r\n                              <th>Año reporte</th>\r\n                              <th>Evento</th>\r\n                              <th>Estado</th>\r\n                              <th>Fecha notificación</th>\r\n                              <th>CIOMS actions</th>\r\n                          </tr>\r\n                      </thead>\r\n                      <tbody>{this.renderCIOMS()}</tbody>\r\n                  </Table>\r\n                  <Button onClick={this.addCIOMHandler} variant=\"primary\">Add CIOM</Button>\r\n                  <Modal style={customStyles} isOpen={this.state.modalOpen} ariaHideApp={false}>\r\n                      <CIOMForm CIOM={this.state.CIOM} closeModal={this.InvertOpenModal} onSubmit={this.handleOnSubmit} />\r\n                      <div className=\"closeDiv\">\r\n                        <Button className=\"closeBtn\" onClick={this.InvertOpenModal} variant=\"primary\">Cerrar</Button>\r\n                      </div>\r\n                  </Modal>\r\n              </div>\r\n            </Card.Body>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Report);\r\n","import {Route, Switch} from \"react-router-dom\";\r\nimport Home from \"../pages/Home\";\r\nimport Notfound from \"../pages/Notfound\";\r\nimport Report from \"../pages/Report\";\r\n\r\nexport default (\r\n    <Switch>\r\n        <Route exact path=\"/\">\r\n            <Home />\r\n        </Route>\r\n        <Route exact path=\"/report/:id\">\r\n            <Report />\r\n        </Route>\r\n        {/* <Route path=\"*\">\r\n            <Notfound />\r\n        </Route> */}\r\n    </Switch>\r\n)\r\n","import './App.css';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport routes from \"./config/routes\";\n\nfunction App() {\n  return (\n    <Router>\n      <div className=\"App\">\n        {routes}\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  \n    <App />\n  ,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}